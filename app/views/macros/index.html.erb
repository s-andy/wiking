<div class="contextual">
  <%= link_to(l(:label_custom_wiki_macro_new), { :controller => 'macros', :action => 'new' }, :class => 'icon icon-add') %>
</div>

<h2><%=l(:label_custom_wiki_macro_plural)%></h2>

<% if @macros.any? %>
<table class="list">
  <thead>
    <tr>
      <th><%= l(:field_name) %></th>
      <th><%= l(:field_description) %></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <% @macros.each do |macro| %>
    <tr class="<%= cycle('odd', 'even') %>">
      <td><code>{{<%= macro.name %>}}</code></td>
      <td><div class="wiki"><%= textilizable(macro.description) %></div></td>
      <td class="buttons">
        <%= link_to(l(:button_edit), { :controller => 'macros', :action => 'edit', :id => macro },
                                       :class => 'icon icon-edit') %>
        <%= link_to(l(:button_delete), { :controller => 'macros', :action => 'destroy', :id => macro },
                                         :method => :delete,
                                         :data => { :confirm => l(:text_are_you_sure) },
                                         :class => 'icon icon-del') %>
      </td>
    </tr>
    <% end %>
  </tbody>
</table>
<% else %>
<p class="nodata"><%= l(:label_no_data) %></p>
<% end %>

<% html_title(l(:label_custom_wiki_macro_plural)) %>
